{"version":3,"sources":["./src/app/setting/shop-register/shop-register.page.html","./src/app/setting/shop-register/shop-register-routing.module.ts","./src/app/setting/shop-register/shop-register.module.ts","./src/app/setting/shop-register/shop-register.page.scss","./src/app/setting/shop-register/shop-register.page.ts","./src/app/setting/shop.service.ts"],"names":[],"mappings":"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","file":"setting-shop-register-shop-register-module-es2015.js","sourcesContent":["module.exports = \"<ion-header>\\n  <ion-toolbar>\\n    <ion-title>ลงทะเบียนร้านค้า</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n    <ion-row>\\n      <ion-col size=\\\"12\\\">\\n        <h4>ชื่อร้านค้า</h4>\\n      </ion-col>\\n    </ion-row>\\n    <ion-item>\\n      <!-- <ion-label position=\\\"floating\\\">ชื่อร้านค้า</ion-label> -->\\n      <ion-input name=\\\"name\\\" type=\\\"text\\\" [(ngModel)]=\\\"shop.name\\\" required>\\n      </ion-input>\\n    </ion-item>\\n    <ion-row>\\n      <ion-col size=\\\"12\\\">\\n        <h4>วัน-เวลา เปิดให้บริการ</h4>\\n      </ion-col>\\n    </ion-row>\\n    <ion-row *ngFor=\\\"let hour of shop.openhours\\\">\\n      <ion-col size=\\\"12\\\">\\n        <ion-row>\\n          <ion-col size=\\\"12\\\">\\n            <ion-item lines=\\\"none\\\">\\n              <ion-checkbox [(ngModel)]=\\\"hour.isopen\\\"></ion-checkbox>\\n              {{hour.dayofweek}}\\n            </ion-item>\\n            <ion-row *ngFor=\\\"let time of hour.opentime\\\">\\n              <ion-col size=\\\"6\\\">\\n                <ion-item>\\n                  <ion-label position=\\\"floating\\\">เปิด</ion-label>\\n                  <ion-datetime\\n                    display-format=\\\"HH:mm\\\"\\n                    picker-format=\\\"HH:mm\\\"\\n                    [(ngModel)]=\\\"time.start\\\"\\n                  ></ion-datetime>\\n                </ion-item>\\n              </ion-col>\\n              <ion-col size=\\\"6\\\">\\n                <ion-item>\\n                  <ion-label position=\\\"floating\\\">ปิด</ion-label>\\n                  <ion-datetime\\n                    display-format=\\\"HH:mm\\\"\\n                    picker-format=\\\"HH:mm\\\"\\n                    [(ngModel)]=\\\"time.end\\\"\\n                  ></ion-datetime>\\n                </ion-item>\\n              </ion-col>\\n            </ion-row>\\n          </ion-col>\\n        </ion-row>\\n      </ion-col>\\n    </ion-row>\\n</ion-content>\\n\\n<ion-footer>\\n  <ion-toolbar>\\n    <ion-button size=\\\"medium\\\" expand=\\\"block\\\" (click)=\\\"createShop()\\\">ลงทะเบียนร้านค้า</ion-button>\\n  </ion-toolbar>\\n</ion-footer>\\n\"","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ShopRegisterPage } from './shop-register.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ShopRegisterPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ShopRegisterPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ShopRegisterPageRoutingModule } from './shop-register-routing.module';\n\nimport { ShopRegisterPage } from './shop-register.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ShopRegisterPageRoutingModule\n  ],\n  declarations: [ShopRegisterPage]\n})\nexport class ShopRegisterPageModule {}\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3NldHRpbmcvc2hvcC1yZWdpc3Rlci9zaG9wLXJlZ2lzdGVyLnBhZ2Uuc2NzcyJ9 */\"","import { Component, OnInit } from \"@angular/core\";\nimport { ShopService } from \"../shop.service\";\nimport { Router } from \"@angular/router\";\n\n@Component({\n  selector: \"app-shop-register\",\n  templateUrl: \"./shop-register.page.html\",\n  styleUrls: [\"./shop-register.page.scss\"],\n})\nexport class ShopRegisterPage implements OnInit {\n  shop: any = {\n    name: \"\",\n    openhours: [\n      {\n        seq: 1,\n        dayofweek: \"จันทร์\",\n        isopen: true,\n        opentime: [\n          {\n            start: \"08:30\",\n            end: \"18:00\",\n          },\n        ],\n      },\n      {\n        seq: 2,\n        dayofweek: \"อังคาร\",\n        isopen: true,\n        opentime: [\n          {\n            start: \"08:30\",\n            end: \"18:00\",\n          },\n        ],\n      },\n      {\n        seq: 3,\n        dayofweek: \"พุธ\",\n        isopen: true,\n        opentime: [\n          {\n            start: \"08:30\",\n            end: \"18:00\",\n          },\n        ],\n      },\n      {\n        seq: 4,\n        dayofweek: \"พฤหัสบดี\",\n        isopen: true,\n        opentime: [\n          {\n            start: \"08:30\",\n            end: \"18:00\",\n          },\n        ],\n      },\n      {\n        seq: 5,\n        dayofweek: \"ศุกร์\",\n        isopen: true,\n        opentime: [\n          {\n            start: \"08:30\",\n            end: \"18:00\",\n          },\n        ],\n      },\n      {\n        seq: 6,\n        dayofweek: \"เสาร์\",\n        isopen: true,\n        opentime: [\n          {\n            start: \"08:30\",\n            end: \"18:00\",\n          },\n        ],\n      },\n      {\n        seq: 7,\n        dayofweek: \"อาทิตย์\",\n        isopen: true,\n        opentime: [\n          {\n            start: \"08:30\",\n            end: \"18:00\",\n          },\n        ],\n      },\n    ],\n  };\n  constructor(private shopService: ShopService, private router: Router) {}\n\n  ngOnInit() {}\n\n  createShop() {\n    console.log(this.shop);\n    this.shopService.createShop(this.shop).subscribe((res: any) => {\n      console.log(res);\n      this.router.navigateByUrl('');\n    });\n  }\n}\n","import { Injectable } from \"@angular/core\";\nimport { HttpClient, HttpHeaders } from \"@angular/common/http\";\nimport { environment } from \"src/environments/environment\";\nimport { tap } from \"rxjs/operators\";\nimport { Storage } from \"@ionic/storage\";\n\n@Injectable({\n  providedIn: \"root\",\n})\nexport class ShopService {\n  haveShop = false;\n  token: any;\n  SHOP_SERVER_ADDRESS: string = environment.apiUrl; // Your Node Address\n  constructor(private http: HttpClient, private storage: Storage) {\n    this.getToken();\n  }\n\n  getShop() {\n    return this.storage.get(\"shop\").then(\n      (data) => {\n        if (data != null) {\n          this.haveShop = true;\n        } else {\n          this.haveShop = false;\n        }\n      },\n      (error) => {\n        this.haveShop = false;\n      }\n    );\n  }\n\n  async getToken() {\n    this.token = await this.storage.get(\"token\");\n    console.log(this.token);\n  }\n\n\n  createShop(shop: any) {\n    this.getToken();\n    const headers = new HttpHeaders({\n      Authorization: \"Bearer\" + \" \" + this.token,\n    });\n    return this.http\n      .post(`${this.SHOP_SERVER_ADDRESS}/api/shops`, shop, { headers: headers })\n      .pipe(\n        tap((res: any) => {\n          //this.storage.setItem('token', token)\n          this.storage.set(\"shop\", res.data).then(\n            () => {\n              console.log(\"shop Stored\");\n            },\n            (error) => console.error(\"Error storing item\", error)\n          );\n          this.haveShop = true;\n          return res.data;\n        })\n      );\n  }\n}\n"],"sourceRoot":""}