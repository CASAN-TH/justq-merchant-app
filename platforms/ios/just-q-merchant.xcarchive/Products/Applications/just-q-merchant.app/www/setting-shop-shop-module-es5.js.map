{"version":3,"sources":["./src/app/setting/shop/shop.page.html","./src/app/services/alert.service.ts","./src/app/setting/shop.service.ts","./src/app/setting/shop/shop-routing.module.ts","./src/app/setting/shop/shop.module.ts","./src/app/setting/shop/shop.page.scss","./src/app/setting/shop/shop.page.ts"],"names":[],"mappings":"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","file":"setting-shop-shop-module-es5.js","sourcesContent":["module.exports = \"<ion-header no-border>\\n  <ion-toolbar color=\\\"primary\\\"> </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <ion-row class=\\\"row-header\\\">\\n    <ion-col size=\\\"12\\\">\\n      <h1 *ngIf=\\\"myShop\\\">{{myShop.name}}</h1>\\n    </ion-col>\\n  </ion-row>\\n\\n \\n  <ion-card *ngIf=\\\"user\\\">\\n    <ion-item button (click)=\\\"openHours()\\\" lines=\\\"none\\\">\\n       {{user.displayname}}\\n      <ion-avatar slot=\\\"start\\\">\\n        <img [src]=\\\"user.profileImageURL\\\" />\\n      </ion-avatar>\\n    </ion-item>\\n  </ion-card>\\n\\n  \\n  <ion-card>\\n    <ion-list lines=\\\"none\\\">\\n      <ion-item button (click)=\\\"openHours()\\\">\\n        ข้อมูลทั่วไป\\n      </ion-item>\\n      <ion-item button (click)=\\\"openHours()\\\">\\n        เวลาเปิด-ปิด\\n      </ion-item>\\n      <ion-item button (click)=\\\"gotoLocation()\\\">\\n        พิกัดร้าน\\n      </ion-item>\\n    </ion-list>\\n  </ion-card>\\n</ion-content>\\n<ion-footer>\\n  <ion-row>\\n    <ion-col padding=\\\"10\\\">\\n      <ion-button size=\\\"medium\\\" expand=\\\"block\\\" (click)=\\\"logout()\\\"\\n        >ออกจากระบบ</ion-button\\n      >\\n    </ion-col>\\n  </ion-row>\\n</ion-footer>\\n\"","import { Injectable } from \"@angular/core\";\nimport { ToastController } from \"@ionic/angular\";\n\n@Injectable({\n  providedIn: \"root\",\n})\nexport class AlertService {\n  constructor(private toastController: ToastController) {}\n\n  async presentToast(message: any) {\n    const toast = await this.toastController.create({\n      message: message,\n      duration: 2000,\n      position: \"top\",\n      color: \"dark\",\n    });\n    toast.present();\n  }\n}\n","import { Injectable } from \"@angular/core\";\nimport { HttpClient, HttpHeaders } from \"@angular/common/http\";\nimport { environment } from \"src/environments/environment\";\nimport { tap } from \"rxjs/operators\";\nimport { Storage } from \"@ionic/storage\";\n\n@Injectable({\n  providedIn: \"root\",\n})\nexport class ShopService {\n  haveShop = false;\n  token: any;\n  shop: any;\n  SHOP_SERVER_ADDRESS: string = environment.apiUrl; // Your Node Address\n  constructor(private http: HttpClient, private storage: Storage) {\n    // this.getToken();\n    // this.getMyShop();\n  }\n\n  // getShop() {\n  //   return this.storage.get(\"shop\").then(\n  //     (data) => {\n  //       if (data != null) {\n  //         this.haveShop = true;\n  //       } else {\n  //         this.haveShop = false;\n  //       }\n  //     },\n  //     (error) => {\n  //       this.haveShop = false;\n  //     }\n  //   );\n  // }\n\n  async getToken() {\n    this.token = await this.storage.get(\"token\");\n    console.log(this.token);\n  }\n\n  async getMyShop(){\n    this.shop = await this.storage.get(\"shop\");\n    return this.shop;\n  }\n\n\n  createShop(shop: any) {\n    return this.http\n      .post(`${this.SHOP_SERVER_ADDRESS}/api/shops`, shop)\n      .pipe(\n        tap((res: any) => {\n          //this.storage.setItem('token', token)\n          this.storage.set(\"shop\", res.data).then(\n            () => {\n              console.log(\"shop Stored\");\n            },\n            (error) => console.error(\"Error storing item\", error)\n          );\n          this.haveShop = true;\n          return res.data;\n        })\n      );\n  }\n\n  updateShop(shop: any) {\n    return this.http\n      .put(`${this.SHOP_SERVER_ADDRESS}/api/shops/${shop._id}`, shop)\n      .pipe(\n        tap((res: any) => {\n          //this.storage.setItem('token', token)\n          this.storage.set(\"shop\", res.data).then(\n            () => {\n              console.log(\"shop Stored\");\n            },\n            (error) => console.error(\"Error storing item\", error)\n          );\n          this.haveShop = true;\n          return res.data;\n        })\n      );\n  }\n\n\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ShopPage } from './shop.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ShopPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ShopPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ShopPageRoutingModule } from './shop-routing.module';\n\nimport { ShopPage } from './shop.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ShopPageRoutingModule\n  ],\n  declarations: [ShopPage]\n})\nexport class ShopPageModule {}\n","module.exports = \".row-header {\\n  background-color: #fbb03b;\\n  color: #ffffff;\\n  height: 100px;\\n  padding-left: 10px;\\n}\\n\\nion-avatar {\\n  width: 50px;\\n  height: 50px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy90aGVlcmFzYWt0dWJyaXQvRGVza3RvcC9qdXN0LXEvanVzdHEtbWVyY2hhbnQvc3JjL2FwcC9zZXR0aW5nL3Nob3Avc2hvcC5wYWdlLnNjc3MiLCJzcmMvYXBwL3NldHRpbmcvc2hvcC9zaG9wLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQTtFQUNFLHlCQUFBO0VBQ0EsY0FBQTtFQUNBLGFBQUE7RUFDQSxrQkFBQTtBQ0FGOztBREdBO0VBQ0UsV0FBQTtFQUNBLFlBQUE7QUNBRiIsImZpbGUiOiJzcmMvYXBwL3NldHRpbmcvc2hvcC9zaG9wLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIlxuLnJvdy1oZWFkZXIge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmJiMDNiO1xuICBjb2xvcjogI2ZmZmZmZjtcbiAgaGVpZ2h0OiAxMDBweDtcbiAgcGFkZGluZy1sZWZ0OiAxMHB4O1xufVxuXG5pb24tYXZhdGFye1xuICB3aWR0aDogNTBweDtcbiAgaGVpZ2h0OiA1MHB4O1xuICBcbn1cbiIsIi5yb3ctaGVhZGVyIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZiYjAzYjtcbiAgY29sb3I6ICNmZmZmZmY7XG4gIGhlaWdodDogMTAwcHg7XG4gIHBhZGRpbmctbGVmdDogMTBweDtcbn1cblxuaW9uLWF2YXRhciB7XG4gIHdpZHRoOiA1MHB4O1xuICBoZWlnaHQ6IDUwcHg7XG59Il19 */\"","import { Component, OnInit } from \"@angular/core\";\nimport { AuthService } from \"src/app/auth/auth.service\";\nimport { Router } from \"@angular/router\";\nimport { AlertService } from \"src/app/services/alert.service\";\nimport { ShopService } from \"../shop.service\";\n\n@Component({\n  selector: \"app-shop\",\n  templateUrl: \"./shop.page.html\",\n  styleUrls: [\"./shop.page.scss\"],\n})\nexport class ShopPage implements OnInit {\n  myShop: any;\n  user: any;\n  constructor(\n    private authService: AuthService,\n    private shopService: ShopService,\n    private router: Router,\n    private alertService: AlertService\n  ) {\n    this.authService.getToken().then(() => {\n      this.authService.user().subscribe(\n        (res: any) => {\n          console.log(res);\n          this.user = res.data;\n        },\n        (error) => {\n          // console.log(error);\n          this.alertService.presentToast(error.error.message);\n        },\n        () => {}\n      );\n    });\n  }\n\n  async ngOnInit() {\n    this.myShop = await this.shopService.getMyShop();\n    \n  }\n\n  logout() {\n    this.authService.logout().then((res: any) => {\n      console.log(res);\n      this.alertService.presentToast(\"Logged Out\");\n      this.router.navigateByUrl(\"/app\");\n    });\n  }\n\n  openHours() {\n    console.log(\"openHours\");\n  }\n\n  gotoLocation() {\n    this.router.navigateByUrl(\"/set-location\");\n  }\n}\n"],"sourceRoot":""}