{"version":3,"sources":["./src/app/setting/shop/shop.page.html","./src/app/auth/auth.service.ts","./src/app/services/alert.service.ts","./src/app/setting/shop.service.ts","./src/app/setting/shop/shop-routing.module.ts","./src/app/setting/shop/shop.module.ts","./src/app/setting/shop/shop.page.scss","./src/app/setting/shop/shop.page.ts"],"names":[],"mappings":"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","file":"setting-shop-shop-module-es2015.js","sourcesContent":["module.exports = \"<ion-content>\\n  <div col-12 col-sm-9 col-md-6 col-lg-4 col-xl-3 style=\\\"background-color: rgb(245, 244, 244);\\\" class=\\\"upload-content\\\">\\n    <ion-row>\\n      <ion-col size=\\\"12\\\" class=\\\"ion-text-center\\\">\\n        <img class=\\\"upload-img\\\" src=\\\"https://image.flaticon.com/icons/svg/1837/1837526.svg\\\">\\n      </ion-col>\\n    </ion-row>\\n    <ion-row>\\n      <ion-col size=\\\"12\\\" class=\\\"ion-text-center\\\">\\n        <p class=\\\"text-upload-top\\\">อัพโหลดรูปภาพหน้าปก</p>\\n      </ion-col>\\n    </ion-row>\\n  </div>\\n\\n  <!-- wait for node if cover img -->\\n\\n  <!-- <div col-12 col-sm-9 col-md-6 col-lg-4 col-xl-3 class=\\\"cover-image\\\">\\n    <img  class=\\\"cover-image-content\\\" src=\\\"../../assets/cafe.jpeg\\\">\\n  </div> -->\\n\\n  <ion-row class=\\\"row-header\\\">\\n    <ion-col size=\\\"8\\\">\\n      <ion-row>\\n        <h1 *ngIf=\\\"myShop\\\" class=\\\"txt-shop\\\">{{myShop.name}}</h1>\\n      </ion-row>\\n\\n    </ion-col>\\n\\n    <ion-col size=\\\"4\\\">\\n      <div>\\n      <ion-row>\\n        <ion-col class=\\\"ion-text-center\\\">\\n          <img class=\\\"logo-upload\\\" src=\\\"https://image.flaticon.com/icons/svg/1837/1837635.svg\\\">\\n        </ion-col>\\n        \\n      </ion-row>\\n      <ion-row>\\n        <ion-col class=\\\"ion-text-center\\\">\\n          <p class=\\\"txt-upload\\\">อัพโหลดโลโก้</p>\\n        </ion-col>\\n       \\n      </ion-row>\\n    </div>\\n\\n     <!-- wait for node if logo img -->\\n\\n    <!-- <div>\\n      <ion-row>\\n        <ion-col class=\\\"ion-text-center\\\">\\n          <img class=\\\"logo\\\" src=\\\"https://assets.hongkiat.com/uploads/psd-text-svg/logo-example.jpg\\\">\\n        </ion-col>\\n        \\n      </ion-row>\\n    </div> -->\\n\\n    </ion-col>\\n  </ion-row>\\n\\n\\n  <ion-card *ngIf=\\\"user\\\">\\n    <ion-item button (click)=\\\"openHours()\\\" lines=\\\"none\\\">\\n      {{user.displayname}}\\n      <ion-avatar slot=\\\"start\\\">\\n        <img [src]=\\\"user.profileImageURL\\\" />\\n      </ion-avatar>\\n    </ion-item>\\n  </ion-card>\\n\\n\\n  <ion-card>\\n    <ion-list lines=\\\"none\\\">\\n      <ion-item button (click)=\\\"shopEdit()\\\">\\n        ข้อมูลทั่วไป\\n      </ion-item>\\n      <ion-item button (click)=\\\"openHours()\\\">\\n        เวลาเปิด-ปิด\\n      </ion-item>\\n      <!-- <ion-item button (click)=\\\"shopServiceType()\\\">\\n        ประเภทการให้บริการ\\n      </ion-item> -->\\n      <ion-item button (click)=\\\"gotoLocation()\\\">\\n        พิกัดร้าน\\n      </ion-item>\\n    </ion-list>\\n  </ion-card>\\n</ion-content>\\n\\n<ion-footer>\\n  <ion-row>\\n    <ion-col padding=\\\"10\\\">\\n      <ion-button size=\\\"medium\\\" expand=\\\"block\\\" (click)=\\\"logout()\\\">ออกจากระบบ</ion-button>\\n    </ion-col>\\n  </ion-row>\\n</ion-footer>\"","import { Injectable } from \"@angular/core\";\nimport { HttpClient, HttpHeaders } from \"@angular/common/http\";\nimport { tap } from \"rxjs/operators\";\nimport { User } from \"./models/user\";\nimport { Storage } from \"@ionic/storage\";\nimport { environment } from \"src/environments/environment\";\n\n@Injectable({\n  providedIn: \"root\",\n})\nexport class AuthService {\n  isLoggedIn = false;\n  token: any;\n  AUTH_SERVER_ADDRESS: string = environment.apiUrl; // Your Node Address\n\n  constructor(private http: HttpClient, private storage: Storage) {}\n\n  login(user: any) {\n    //console.log(user);\n    return this.http\n      .post(`${this.AUTH_SERVER_ADDRESS}/api/auth/signin`, user)\n      .pipe(\n        tap((res: any) => {\n          //this.storage.setItem('token', token)\n          this.storage.set(\"token\", res.token).then(\n            () => {\n              console.log(\"Token Stored\");\n            },\n            (error) => console.error(\"Error storing item\", error)\n          );\n          this.token = res.token;\n          this.isLoggedIn = true;\n          return res.token;\n        })\n      );\n  }\n\n  lineLogin(user: any) {\n    return this.http\n      .post(`${this.AUTH_SERVER_ADDRESS}/api/auth/line`, user)\n      .pipe(\n        tap((res: any) => {\n          //this.storage.setItem('token', token)\n          this.storage.set(\"token\", res.token).then(\n            () => {\n              console.log(\"Token Stored\");\n            },\n            (error) => console.error(\"Error storing item\", error)\n          );\n          this.token = res.token;\n          this.isLoggedIn = true;\n          return res.token;\n        })\n      );\n  }\n\n  register(user: User) {\n    user.email = `${user.firstname}.${user.lastname}@จัดคิว.com`;\n    return this.http\n      .post(`${this.AUTH_SERVER_ADDRESS}/api/auth/signup`, user)\n      .pipe(\n        tap((res: any) => {\n          //this.storage.setItem('token', token)\n          this.storage.set(\"token\", res.token).then(\n            () => {\n              console.log(\"Token Stored\");\n            },\n            (error) => console.error(\"Error storing item\", error)\n          );\n          this.token = res.token;\n          this.isLoggedIn = true;\n          return res.token;\n        })\n      );\n  }\n\n  logout() {\n    console.log(\"Logout\");\n    // this.storage.clear();\n    this.storage.remove(\"token\");\n    this.isLoggedIn = false;\n    delete this.token;\n    // // return new Promise<void>((resolve))\n    return Promise.resolve({ status: 200, Message: \"loged out\" });\n  }\n\n  user() {\n    const headers = new HttpHeaders({\n      Authorization: \"Bearer\" + \" \" + this.token,\n    });\n    return this.http\n      .get(`${this.AUTH_SERVER_ADDRESS}/api/me`, { headers: headers })\n      .pipe(\n        tap((user) => {\n          return user;\n        })\n      );\n  }\n\n  getToken() {\n    //return this.storage.getItem('token').then(\n    return this.storage.get(\"token\").then(\n      (data) => {\n        this.token = data;\n        if (this.token != null) {\n          this.isLoggedIn = true;\n        } else {\n          this.isLoggedIn = false;\n        }\n      },\n      (error) => {\n        this.token = null;\n        this.isLoggedIn = false;\n      }\n    );\n  }\n}\n","import { Injectable } from \"@angular/core\";\nimport { ToastController } from \"@ionic/angular\";\n\n@Injectable({\n  providedIn: \"root\",\n})\nexport class AlertService {\n  constructor(private toastController: ToastController) {}\n\n  async presentToast(message: any) {\n    const toast = await this.toastController.create({\n      message: message,\n      duration: 2000,\n      position: \"top\",\n      color: \"dark\",\n    });\n    toast.present();\n  }\n}\n","import { Injectable } from \"@angular/core\";\nimport { HttpClient, HttpHeaders } from \"@angular/common/http\";\nimport { environment } from \"src/environments/environment\";\nimport { tap } from \"rxjs/operators\";\nimport { Storage } from \"@ionic/storage\";\n\n@Injectable({\n  providedIn: \"root\",\n})\nexport class ShopService {\n  haveShop = false;\n  token: any;\n  shop: any;\n  SHOP_SERVER_ADDRESS: string = environment.apiUrl; // Your Node Address\n  constructor(private http: HttpClient, private storage: Storage) {\n  }\n\n  getMyShop(shopId): Promise<any> {\n    return new Promise(async (resolve, reject) => {\n      this.http\n        .get(`${this.SHOP_SERVER_ADDRESS}/api/shops/${shopId}`)\n        .subscribe((res: any) => {\n          resolve(res.data);\n        }, reject);\n    });\n  }\n\n\n  createShop(shop: any) {\n    return this.http\n      .post(`${this.SHOP_SERVER_ADDRESS}/api/shops`, shop)\n      .pipe(\n        tap((res: any) => {\n          //this.storage.setItem('token', token)\n          this.storage.set(\"shop\", res.data).then(\n            () => {\n              console.log(\"shop Stored\");\n            },\n            (error) => console.error(\"Error storing item\", error)\n          );\n          this.haveShop = true;\n          return res.data;\n        })\n      );\n  }\n\n  updateShop(shop: any) {\n    return this.http\n      .put(`${this.SHOP_SERVER_ADDRESS}/api/shops/${shop._id}`, shop)\n      .pipe(\n        tap((res: any) => {\n          //this.storage.setItem('token', token)\n          this.storage.set(\"shop\", res.data).then(\n            () => {\n              console.log(\"shop Stored\");\n            },\n            (error) => console.error(\"Error storing item\", error)\n          );\n          this.haveShop = true;\n          return res.data;\n        })\n      );\n  }\n\n\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ShopPage } from './shop.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ShopPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ShopPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ShopPageRoutingModule } from './shop-routing.module';\n\nimport { ShopPage } from './shop.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ShopPageRoutingModule\n  ],\n  declarations: [ShopPage]\n})\nexport class ShopPageModule {}\n","module.exports = \".row-header {\\n  background-color: #fbb03b;\\n  color: #ffffff;\\n  height: 120px;\\n  padding-left: 10px;\\n}\\n\\nion-avatar {\\n  width: 60px;\\n  height: 60px;\\n}\\n\\n.cover-image-content {\\n  width: 100%;\\n}\\n\\n.cover-image {\\n  height: 170px;\\n  overflow: hidden;\\n}\\n\\n.upload-img {\\n  height: 60px;\\n  width: 65px;\\n  margin-top: 35px;\\n}\\n\\n.text-upload-top {\\n  margin-top: -12px;\\n}\\n\\n.upload-content {\\n  height: 170px;\\n}\\n\\n.logo-upload {\\n  border-radius: 115px;\\n  width: 65px;\\n  height: 73px;\\n}\\n\\n.txt-upload {\\n  margin-top: -11px;\\n}\\n\\n.logo {\\n  border-radius: 115px;\\n  width: 85px;\\n  height: 83px;\\n}\\n\\n.txt-shop {\\n  margin-top: 1px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy90aGVlcmFzYWt0dWJyaXQvRGVza3RvcC9qdXN0LXEvanVzdHEtbWVyY2hhbnQvc3JjL2FwcC9zZXR0aW5nL3Nob3Avc2hvcC5wYWdlLnNjc3MiLCJzcmMvYXBwL3NldHRpbmcvc2hvcC9zaG9wLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQTtFQUNFLHlCQUFBO0VBQ0EsY0FBQTtFQUNBLGFBQUE7RUFDQSxrQkFBQTtBQ0FGOztBREdBO0VBQ0UsV0FBQTtFQUNBLFlBQUE7QUNBRjs7QURJQTtFQUNFLFdBQUE7QUNERjs7QURJQTtFQUNFLGFBQUE7RUFDQSxnQkFBQTtBQ0RGOztBRElBO0VBQ0UsWUFBQTtFQUNBLFdBQUE7RUFDQSxnQkFBQTtBQ0RGOztBRElBO0VBQ0UsaUJBQUE7QUNERjs7QURJQTtFQUNFLGFBQUE7QUNERjs7QURJQTtFQUNFLG9CQUFBO0VBQ0EsV0FBQTtFQUVBLFlBQUE7QUNGRjs7QURLQTtFQUNFLGlCQUFBO0FDRkY7O0FES0E7RUFDRSxvQkFBQTtFQUNBLFdBQUE7RUFDQSxZQUFBO0FDRkY7O0FES0E7RUFDRSxlQUFBO0FDRkYiLCJmaWxlIjoic3JjL2FwcC9zZXR0aW5nL3Nob3Avc2hvcC5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJcbi5yb3ctaGVhZGVyIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZiYjAzYjtcbiAgY29sb3I6ICNmZmZmZmY7XG4gIGhlaWdodDogMTIwcHg7XG4gIHBhZGRpbmctbGVmdDogMTBweDtcbn1cblxuaW9uLWF2YXRhcntcbiAgd2lkdGg6IDYwcHg7XG4gIGhlaWdodDogNjBweDtcbiAgXG59XG5cbi5jb3Zlci1pbWFnZS1jb250ZW50e1xuICB3aWR0aDogMTAwJTtcbn1cblxuLmNvdmVyLWltYWdle1xuICBoZWlnaHQ6IDE3MHB4O1xuICBvdmVyZmxvdzogaGlkZGVuO1xufVxuXG4udXBsb2FkLWltZ3tcbiAgaGVpZ2h0OiA2MHB4O1xuICB3aWR0aDogNjVweDtcbiAgbWFyZ2luLXRvcDogMzVweDtcbn1cblxuLnRleHQtdXBsb2FkLXRvcHtcbiAgbWFyZ2luLXRvcDogLTEycHg7XG59XG5cbi51cGxvYWQtY29udGVudHtcbiAgaGVpZ2h0OiAxNzBweDtcbn1cblxuLmxvZ28tdXBsb2Fke1xuICBib3JkZXItcmFkaXVzOiAxMTVweDtcbiAgd2lkdGg6IDY1cHg7XG4gIC8vIGJvcmRlcjogMXB4IHNvbGlkIHJnYigyNTUsIDI1NSwgMjU1KTtcbiAgaGVpZ2h0OiA3M3B4O1xufVxuXG4udHh0LXVwbG9hZHtcbiAgbWFyZ2luLXRvcDogLTExcHg7XG59XG5cbi5sb2dve1xuICBib3JkZXItcmFkaXVzOiAxMTVweDtcbiAgd2lkdGg6IDg1cHg7XG4gIGhlaWdodDogODNweDtcbn1cblxuLnR4dC1zaG9we1xuICBtYXJnaW4tdG9wOiAxcHg7XG59XG4iLCIucm93LWhlYWRlciB7XG4gIGJhY2tncm91bmQtY29sb3I6ICNmYmIwM2I7XG4gIGNvbG9yOiAjZmZmZmZmO1xuICBoZWlnaHQ6IDEyMHB4O1xuICBwYWRkaW5nLWxlZnQ6IDEwcHg7XG59XG5cbmlvbi1hdmF0YXIge1xuICB3aWR0aDogNjBweDtcbiAgaGVpZ2h0OiA2MHB4O1xufVxuXG4uY292ZXItaW1hZ2UtY29udGVudCB7XG4gIHdpZHRoOiAxMDAlO1xufVxuXG4uY292ZXItaW1hZ2Uge1xuICBoZWlnaHQ6IDE3MHB4O1xuICBvdmVyZmxvdzogaGlkZGVuO1xufVxuXG4udXBsb2FkLWltZyB7XG4gIGhlaWdodDogNjBweDtcbiAgd2lkdGg6IDY1cHg7XG4gIG1hcmdpbi10b3A6IDM1cHg7XG59XG5cbi50ZXh0LXVwbG9hZC10b3Age1xuICBtYXJnaW4tdG9wOiAtMTJweDtcbn1cblxuLnVwbG9hZC1jb250ZW50IHtcbiAgaGVpZ2h0OiAxNzBweDtcbn1cblxuLmxvZ28tdXBsb2FkIHtcbiAgYm9yZGVyLXJhZGl1czogMTE1cHg7XG4gIHdpZHRoOiA2NXB4O1xuICBoZWlnaHQ6IDczcHg7XG59XG5cbi50eHQtdXBsb2FkIHtcbiAgbWFyZ2luLXRvcDogLTExcHg7XG59XG5cbi5sb2dvIHtcbiAgYm9yZGVyLXJhZGl1czogMTE1cHg7XG4gIHdpZHRoOiA4NXB4O1xuICBoZWlnaHQ6IDgzcHg7XG59XG5cbi50eHQtc2hvcCB7XG4gIG1hcmdpbi10b3A6IDFweDtcbn0iXX0= */\"","import { Component, OnInit } from \"@angular/core\";\nimport { AuthService } from \"src/app/auth/auth.service\";\nimport { Router } from \"@angular/router\";\nimport { AlertService } from \"src/app/services/alert.service\";\nimport { ShopService } from \"../shop.service\";\nimport { Location } from \"@angular/common\";\n\n@Component({\n  selector: \"app-shop\",\n  templateUrl: \"./shop.page.html\",\n  styleUrls: [\"./shop.page.scss\"],\n})\nexport class ShopPage implements OnInit {\n  myShop: any;\n  user: any;\n\n  constructor(\n    private authService: AuthService,\n    private shopService: ShopService,\n    private router: Router,\n    private alertService: AlertService,\n    private _location: Location,\n  ) {\n    \n  }\n  \n\n  ngOnInit() {\n    \n  }\n\n  ionViewDidEnter(){\n    console.log(\"ionViewDidEnter\");\n    this.authService.getToken().then(() => {\n      this.authService.user().subscribe(\n        async (res: any) => {\n          console.log(res);\n          this.user = res.data;\n          this.myShop = await this.shopService.getMyShop(this.user.ref1);\n        },\n        (error) => {\n          // console.log(error);\n          this.alertService.presentToast(error.error.message);\n        },\n        () => {}\n      );\n    });\n  }\n\n  logout() {\n    this.authService.logout().then((res: any) => {\n      console.log(res);\n      this.alertService.presentToast(\"Logged Out\");\n      this.router.navigateByUrl(\"/app\");\n    });\n  }\n\n  openHours() {\n    console.log(\"openHours\");\n    this.router.navigateByUrl(\"/shop-register\");\n  }\n\n  shopEdit() {\n    console.log(\"shopEdit\");\n    this.router.navigateByUrl(\"/shop-edit\");\n  }\n\n  shopServiceType(){\n    this.router.navigateByUrl(\"/shop-servicetype\");\n  }\n\n  gotoLocation() {\n    this.router.navigateByUrl(\"/set-location\");\n  }\n}\n"],"sourceRoot":""}